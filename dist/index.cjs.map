{"version":3,"file":"index.cjs","sources":["../index.ts"],"sourcesContent":["import plugin from 'tailwindcss/plugin';\n\ntype Options = Record<string, any>;\n\nmodule.exports = plugin.withOptions(function (options: Options = {}) {\n  return function ({ matchUtilities, theme, config }) {\n    const context = {\n      theme,\n      config,\n      ...(options ?? {}),\n    };\n    matchUtilities({\n      js: (value) => {\n        const escape = (str: string) => {\n          return str.replace(/_/g, '\\\\_').replace(/ /g, '_');\n        };\n\n        const unescape = (str: string) => {\n          return str.replace(/(?<!\\\\)_/g, ' ').replace(/\\\\_/g, '_');\n        };\n\n        const parseString = (str: string) => {\n          return str.split(/(#{.*?})/g).map((el, i) => (i % 2 === 1 ? el.slice(2, -1) : el));\n        };\n\n        const parts = parseString(escape(value.slice(1, -1)));\n\n        const utility = parts\n          .map((part, i) => {\n            if (i % 2 === 0) {\n              return part;\n            } else {\n              const args = Object.keys(context);\n              const values = Object.values(context);\n              const func = new Function(...args, `return ${unescape(part)};`);\n              return escape(`${func(...values)}`);\n            }\n          })\n          .join('');\n\n        return {\n          [`@apply ${utility}`]: {},\n        };\n      },\n    });\n  };\n});\n"],"names":["module","exports","withOptions","options","_ref","_options","matchUtilities","context","_extends","theme","config","js","value","_ref2","escape","str","replace","slice","split","map","el","i","part","args","Object","keys","values","func","_construct","Function","concat","apply","join"],"mappings":"yvBAIAA,OAAOC,0BAAgB,QAACC,YAAY,SAAUC,GAC5C,YAD4CA,IAAAA,IAAAA,EAAmB,aACxDC,GAA2CC,IAAAA,EAA/BC,EAAcF,EAAdE,eACXC,EAAOC,GACXC,MAFoCL,EAALK,MAG/BC,OAH4CN,EAANM,QAI3B,OADLL,EACFF,GAAOE,EAAI,CAAA,GAEjBC,EAAe,CACbK,GAAI,SAACC,GAASC,IAAAA,EACNC,EAAS,SAACC,GACd,OAAOA,EAAIC,QAAQ,KAAM,OAAOA,QAAQ,KAAM,IAChD,EAyBA,OAAAH,EAAAA,cAf0BC,EAAOF,EAAMK,MAAM,GAAI,IAHpCC,MAAM,aAAaC,IAAI,SAACC,EAAIC,GAAO,OAAAA,EAAI,GAAM,EAAID,EAAGH,MAAM,GAAI,GAAKG,CAAE,GAM/ED,IAAI,SAACG,EAAMD,GACV,GAAIA,EAAI,GAAM,EACZ,OAAOC,EAEP,IAfYP,EAeNQ,EAAOC,OAAOC,KAAKlB,GACnBmB,EAASF,OAAOE,OAAOnB,GACvBoB,EAAIC,EAAOC,SAAYN,EAAIO,OAAA,CAAA,WAjBrBf,EAiB0CO,EAhBnDP,EAAIC,QAAQ,YAAa,KAAKA,QAAQ,OAAQ,KAgBU,QAC3D,OAAOF,EAAM,GAAIa,EAAII,WAAIL,EAAAA,GAE7B,GACCM,KAAK,KAGiB,CAAA,EAAEnB,CAE7B,GAEJ,CACF"}